<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.*?>
<?import javafx.geometry.Insets?>

<BorderPane prefHeight="700" prefWidth="900" style="-fx-background-color: #f5f7fa;" 
            xmlns="http://javafx.com/javafx/25" 
            xmlns:fx="http://javafx.com/fxml/1" 
            fx:controller="controllers.AdminMessagesController">
    
    <top>
        <VBox spacing="10" style="-fx-padding: 20; -fx-background-color: #673AB7;">
            <Label style="-fx-font-size: 28px; -fx-font-weight: bold; -fx-text-fill: white;" 
                   text="ðŸ“© Customer Support Messages" />
            <Label style="-fx-font-size: 14px; -fx-text-fill: #d1c4e9;" 
                   text="Manage all customer inquiries and support requests" />
        </VBox>
    </top>
    
    <center>
        <VBox spacing="15" style="-fx-padding: 20;">
            <!-- Filter and Stats -->
            <HBox spacing="15" style="-fx-padding: 10; -fx-background-color: white; -fx-border-color: #ddd; -fx-border-radius: 5;">
                <VBox spacing="5" style="-fx-background-color: #FF5722; -fx-padding: 10; -fx-background-radius: 5; -fx-min-width: 120;">
                    <Label style="-fx-text-fill: white; -fx-font-size: 12px;" text="Unread" />
                    <Label fx:id="unreadCountLabel" style="-fx-text-fill: white; -fx-font-size: 24px; -fx-font-weight: bold;" text="0" />
                </VBox>
                
                <VBox spacing="5" style="-fx-background-color: #2196F3; -fx-padding: 10; -fx-background-radius: 5; -fx-min-width: 120;">
                    <Label style="-fx-text-fill: white; -fx-font-size: 12px;" text="Total" />
                    <Label fx:id="totalCountLabel" style="-fx-text-fill: white; -fx-font-size: 24px; -fx-font-weight: bold;" text="0" />
                </VBox>
                
                <!-- Add missing ComboBox -->
                <ComboBox fx:id="statusFilterCombo" prefWidth="120" promptText="Status" />
                
                <TextField fx:id="searchField" prefWidth="200" promptText="Search by customer or subject" />
                
                <Button onAction="#handleFilter" style="-fx-background-color: #2196F3; -fx-text-fill: white;" text="ðŸ” Filter" />
                
                <!-- Add missing Send Message button -->
                        
                <Button fx:id="refreshBtn" onAction="#handleRefresh" style="-fx-background-color: #FF9800; -fx-text-fill: white;" text="ðŸ”„ Refresh" />
            </HBox>
            
            <!-- Messages List -->
            <ScrollPane fitToWidth="true" style="-fx-background-color: transparent; -fx-padding: 5;">
                <VBox fx:id="messagesContainer" spacing="10" />
            </ScrollPane>
        </VBox>
    </center>
    
    <bottom>
        <HBox alignment="CENTER_RIGHT" spacing="10" style="-fx-padding: 15; -fx-background-color: #ede7f6;">
            <Label fx:id="summaryLabel" style="-fx-text-fill: #5d4037;" text="Showing 0 messages" />
            <Region HBox.hgrow="ALWAYS" />
            <Button fx:id="closeBtn" onAction="#handleClose" style="-fx-background-color: #757575; -fx-text-fill: white; -fx-padding: 8 16;" text="âœ• Close" />
        </HBox>
    </bottom>
    
</BorderPane>