<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.Button?>
<?import javafx.scene.control.CheckBox?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.PasswordField?>
<?import javafx.scene.control.ScrollPane?>
<?import javafx.scene.control.TextArea?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.effect.DropShadow?>
<?import javafx.scene.effect.InnerShadow?>
<?import javafx.scene.image.Image?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.StackPane?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.shape.Circle?>
<?import javafx.scene.shape.Rectangle?>

<ScrollPane fitToWidth="true" hbarPolicy="NEVER" pannable="true" style="-fx-background-color: transparent; -fx-border-color: transparent;" xmlns="http://javafx.com/javafx/25" xmlns:fx="http://javafx.com/fxml/1" fx:controller="controllers.CustomerRegisterController">
     <!-- Background Image -->
        <ImageView fitHeight="1000.0" fitWidth="1200.0" preserveRatio="true">
            <Image url="file:///C:/Full%20Jave%20Projects/ecommerce_project/images/bg/role-selection.jpg" />
            <effect>
                <InnerShadow color="#00000010" radius="5" />
            </effect>
        </ImageView>
        <!-- Light Overlay -->
        <Rectangle fill="rgba(240, 249, 255, 0.94)" />
    <!-- Main Container -->
    <StackPane style="-fx-background-color: #f0f9ff;" minHeight="900">
        
       
        
        
        
        <!-- Main Content Container -->
        <VBox alignment="CENTER" spacing="25" style="-fx-padding: 40;">
            
            <!-- Header Section -->
            <VBox alignment="CENTER" spacing="15">
                <StackPane>
                    <Circle fill="#3b82f6" radius="45" />
                    <Label style="-fx-font-size: 34px;" text="ðŸ“" />
                </StackPane>
                
                <Label style="
                    -fx-font-size: 46px;
                    -fx-font-weight: 900;
                    -fx-text-fill: linear-gradient(to right, #1d4ed8, #3b82f6);
                    -fx-effect: dropshadow(three-pass-box, rgba(59, 130, 246, 0.15), 10, 0, 0, 2);
                    -fx-font-family: 'Segoe UI', 'Arial', sans-serif;
                    -fx-letter-spacing: 1px;
                " text="CREATE ACCOUNT" />
                
                <Label style="
                    -fx-font-size: 18px;
                    -fx-text-fill: #475569;
                    -fx-font-family: 'Segoe UI', 'Arial', sans-serif;
                    -fx-font-weight: 300;
                " text="Join our community in less than 2 minutes" />
            </VBox>
            
            <!-- Registration Form Card -->
            <VBox alignment="CENTER" spacing="25" style="
                -fx-background-color: rgba(255, 255, 255, 0.98);
                -fx-background-radius: 25;
                -fx-border-radius: 25;
                -fx-border-color: rgba(203, 213, 225, 0.3);
                -fx-border-width: 1;
                -fx-padding: 50 60;
                -fx-effect: dropshadow(three-pass-box, rgba(0,0,0,0.1), 35, 0, 0, 12);
                -fx-min-width: 800;
                -fx-max-width: 900;
            ">
                
                <!-- Section 1: Personal Information -->
                <VBox alignment="CENTER_LEFT" spacing="20">
                    <Label style="
                        -fx-font-size: 22px;
                        -fx-font-weight: 800;
                        -fx-text-fill: #1e293b;
                        -fx-font-family: 'Segoe UI', 'Arial', sans-serif;
                        -fx-letter-spacing: 0.5px;
                        -fx-padding: 0 0 10 0;
                    " text="Personal Information" />
                    
                    <!-- Name Fields (Horizontal) -->
                    <HBox alignment="CENTER" spacing="25">
                        <VBox alignment="CENTER_LEFT" spacing="10">
                            <Label style="
                                -fx-font-size: 15px;
                                -fx-font-weight: 700;
                                -fx-text-fill: #475569;
                                -fx-font-family: 'Segoe UI', 'Arial', sans-serif;
                            " text="First Name:*" />
                            <TextField fx:id="firstNameField" promptText="Enter first name" style="
                                -fx-pref-width: 350px;
                                -fx-pref-height: 55px;
                                -fx-font-size: 16px;
                                -fx-background-color: #f8fafc;
                                -fx-background-radius: 12;
                                -fx-border-radius: 12;
                                -fx-border-color: #cbd5e1;
                                -fx-border-width: 1.5;
                                -fx-text-fill: #1e293b;
                                -fx-padding: 0 20;
                                -fx-font-family: 'Segoe UI', 'Arial', sans-serif;
                                -fx-prompt-text-fill: #94a3b8;
                            ">
                                <effect>
                                    <DropShadow color="#00000008" radius="4" />
                                </effect>
                            </TextField>
                        </VBox>
                        
                        <VBox alignment="CENTER_LEFT" spacing="10">
                            <Label style="
                                -fx-font-size: 15px;
                                -fx-font-weight: 700;
                                -fx-text-fill: #475569;
                                -fx-font-family: 'Segoe UI', 'Arial', sans-serif;
                            " text="Last Name:*" />
                            <TextField fx:id="lastNameField" promptText="Enter last name" style="
                                -fx-pref-width: 350px;
                                -fx-pref-height: 55px;
                                -fx-font-size: 16px;
                                -fx-background-color: #f8fafc;
                                -fx-background-radius: 12;
                                -fx-border-radius: 12;
                                -fx-border-color: #cbd5e1;
                                -fx-border-width: 1.5;
                                -fx-text-fill: #1e293b;
                                -fx-padding: 0 20;
                                -fx-font-family: 'Segoe UI', 'Arial', sans-serif;
                                -fx-prompt-text-fill: #94a3b8;
                            ">
                                <effect>
                                    <DropShadow color="#00000008" radius="4" />
                                </effect>
                            </TextField>
                        </VBox>
                    </HBox>
                    
                    <!-- Email Field -->
                    <VBox alignment="CENTER_LEFT" spacing="10">
                        <Label style="
                            -fx-font-size: 15px;
                            -fx-font-weight: 700;
                            -fx-text-fill: #475569;
                            -fx-font-family: 'Segoe UI', 'Arial', sans-serif;
                        " text="Email Address:*" />
                        <TextField fx:id="emailField" promptText="Enter email address" style="
                            -fx-pref-width: 725px;
                            -fx-pref-height: 55px;
                            -fx-font-size: 16px;
                            -fx-background-color: #f8fafc;
                            -fx-background-radius: 12;
                            -fx-border-radius: 12;
                            -fx-border-color: #cbd5e1;
                            -fx-border-width: 1.5;
                            -fx-text-fill: #1e293b;
                            -fx-padding: 0 20;
                            -fx-font-family: 'Segoe UI', 'Arial', sans-serif;
                            -fx-prompt-text-fill: #94a3b8;
                        ">
                            <effect>
                                <DropShadow color="#00000008" radius="4" />
                            </effect>
                        </TextField>
                    </VBox>
                    
                    <!-- Username Field -->
                    <VBox alignment="CENTER_LEFT" spacing="10">
                        <Label style="
                            -fx-font-size: 15px;
                            -fx-font-weight: 700;
                            -fx-text-fill: #475569;
                            -fx-font-family: 'Segoe UI', 'Arial', sans-serif;
                        " text="Username:*" />
                        <TextField fx:id="usernameField" promptText="Choose username" style="
                            -fx-pref-width: 725px;
                            -fx-pref-height: 55px;
                            -fx-font-size: 16px;
                            -fx-background-color: #f8fafc;
                            -fx-background-radius: 12;
                            -fx-border-radius: 12;
                            -fx-border-color: #cbd5e1;
                            -fx-border-width: 1.5;
                            -fx-text-fill: #1e293b;
                            -fx-padding: 0 20;
                            -fx-font-family: 'Segoe UI', 'Arial', sans-serif;
                            -fx-prompt-text-fill: #94a3b8;
                        ">
                            <effect>
                                <DropShadow color="#00000008" radius="4" />
                            </effect>
                        </TextField>
                    </VBox>
                    
                    <!-- Password Fields (Horizontal) -->
                    <HBox alignment="CENTER" spacing="25">
                        <VBox alignment="CENTER_LEFT" spacing="10">
                            <Label style="
                                -fx-font-size: 15px;
                                -fx-font-weight: 700;
                                -fx-text-fill: #475569;
                                -fx-font-family: 'Segoe UI', 'Arial', sans-serif;
                            " text="Password:*" />
                            <PasswordField fx:id="passwordField" promptText="Enter password" style="
                                -fx-pref-width: 350px;
                                -fx-pref-height: 55px;
                                -fx-font-size: 16px;
                                -fx-background-color: #f8fafc;
                                -fx-background-radius: 12;
                                -fx-border-radius: 12;
                                -fx-border-color: #cbd5e1;
                                -fx-border-width: 1.5;
                                -fx-text-fill: #1e293b;
                                -fx-padding: 0 20;
                                -fx-font-family: 'Segoe UI', 'Arial', sans-serif;
                                -fx-prompt-text-fill: #94a3b8;
                            ">
                                <effect>
                                    <DropShadow color="#00000008" radius="4" />
                                </effect>
                            </PasswordField>
                        </VBox>
                        
                        <VBox alignment="CENTER_LEFT" spacing="10">
                            <Label style="
                                -fx-font-size: 15px;
                                -fx-font-weight: 700;
                                -fx-text-fill: #475569;
                                -fx-font-family: 'Segoe UI', 'Arial', sans-serif;
                            " text="Confirm Password:*" />
                            <PasswordField fx:id="confirmPasswordField" promptText="Confirm password" style="
                                -fx-pref-width: 350px;
                                -fx-pref-height: 55px;
                                -fx-font-size: 16px;
                                -fx-background-color: #f8fafc;
                                -fx-background-radius: 12;
                                -fx-border-radius: 12;
                                -fx-border-color: #cbd5e1;
                                -fx-border-width: 1.5;
                                -fx-text-fill: #1e293b;
                                -fx-padding: 0 20;
                                -fx-font-family: 'Segoe UI', 'Arial', sans-serif;
                                -fx-prompt-text-fill: #94a3b8;
                            ">
                                <effect>
                                    <DropShadow color="#00000008" radius="4" />
                                </effect>
                            </PasswordField>
                        </VBox>
                    </HBox>
                </VBox>
                
                <!-- Section 2: Contact Information -->
                <VBox alignment="CENTER_LEFT" spacing="20" style="-fx-padding: 20 0 0 0;">
                    <Label style="
                        -fx-font-size: 22px;
                        -fx-font-weight: 800;
                        -fx-text-fill: #1e293b;
                        -fx-font-family: 'Segoe UI', 'Arial', sans-serif;
                        -fx-letter-spacing: 0.5px;
                        -fx-padding: 0 0 10 0;
                    " text="Contact Information" />
                    
                    <!-- Phone Field -->
                    <VBox alignment="CENTER_LEFT" spacing="10">
                        <Label style="
                            -fx-font-size: 15px;
                            -fx-font-weight: 700;
                            -fx-text-fill: #475569;
                            -fx-font-family: 'Segoe UI', 'Arial', sans-serif;
                        " text="Phone Number:" />
                        <TextField fx:id="phoneField" promptText="Enter phone number" style="
                            -fx-pref-width: 725px;
                            -fx-pref-height: 55px;
                            -fx-font-size: 16px;
                            -fx-background-color: #f8fafc;
                            -fx-background-radius: 12;
                            -fx-border-radius: 12;
                            -fx-border-color: #cbd5e1;
                            -fx-border-width: 1.5;
                            -fx-text-fill: #1e293b;
                            -fx-padding: 0 20;
                            -fx-font-family: 'Segoe UI', 'Arial', sans-serif;
                            -fx-prompt-text-fill: #94a3b8;
                        ">
                            <effect>
                                <DropShadow color="#00000008" radius="4" />
                            </effect>
                        </TextField>
                    </VBox>
                    
                    <!-- Address Field -->
                    <VBox alignment="CENTER_LEFT" spacing="10">
                        <Label style="
                            -fx-font-size: 15px;
                            -fx-font-weight: 700;
                            -fx-text-fill: #475569;
                            -fx-font-family: 'Segoe UI', 'Arial', sans-serif;
                        " text="Address:" />
                        <TextArea fx:id="addressField" promptText="Enter shipping address" style="
                            -fx-pref-width: 725px;
                            -fx-pref-height: 120px;
                            -fx-font-size: 16px;
                            -fx-background-color: #f8fafc;
                            -fx-background-radius: 12;
                            -fx-border-radius: 12;
                            -fx-border-color: #cbd5e1;
                            -fx-border-width: 1.5;
                            -fx-text-fill: #1e293b;
                            -fx-padding: 15 20;
                            -fx-font-family: 'Segoe UI', 'Arial', sans-serif;
                            -fx-prompt-text-fill: #94a3b8;
                        " wrapText="true">
                            <effect>
                                <DropShadow color="#00000008" radius="4" />
                            </effect>
                        </TextArea>
                    </VBox>
                </VBox>
                
                <!-- Checkboxes -->
                <VBox alignment="CENTER_LEFT" spacing="15" style="-fx-padding: 20 0;">
                    <CheckBox fx:id="termsCheckBox" style="
                        -fx-font-size: 16px;
                        -fx-text-fill: #475569;
                        -fx-font-family: 'Segoe UI', 'Arial', sans-serif;
                        -fx-font-weight: 500;
                    " text="I agree to terms and conditions" />
                    
                    <CheckBox fx:id="newsletterCheckBox" selected="true" style="
                        -fx-font-size: 16px;
                        -fx-text-fill: #475569;
                        -fx-font-family: 'Segoe UI', 'Arial', sans-serif;
                        -fx-font-weight: 500;
                    " text="Subscribe to newsletter for updates and offers" />
                </VBox>
                
                <!-- Error Message -->
                <Label fx:id="errorLabel" style="
                    -fx-text-fill: #ef4444;
                    -fx-font-size: 15px;
                    -fx-font-weight: 500;
                    -fx-font-family: 'Segoe UI', 'Arial', sans-serif;
                    -fx-alignment: CENTER;
                    -fx-wrap-text: true;
                    -fx-max-width: 725px;
                    -fx-background-color: #fef2f2;
                    -fx-background-radius: 10;
                    -fx-padding: 15 20;
                " visible="false" />
                
                <!-- Action Buttons -->
                <HBox alignment="CENTER" spacing="25" style="-fx-padding: 15 0 0 0;">
                    <Button fx:id="registerBtn" onAction="#handleRegister" style="
                        -fx-pref-width: 200px;
                        -fx-pref-height: 58px;
                        -fx-font-size: 17px;
                        -fx-font-weight: 700;
                        -fx-text-fill: white;
                        -fx-background-color: linear-gradient(to right, #10b981, #059669);
                        -fx-background-radius: 12;
                        -fx-border-radius: 12;
                        -fx-cursor: hand;
                        -fx-font-family: 'Segoe UI', 'Arial', sans-serif;
                        -fx-letter-spacing: 0.5px;
                        -fx-effect: dropshadow(three-pass-box, rgba(16, 185, 129, 0.3), 10, 0, 0, 4);
                    " text="Register">
                        <effect>
                            <InnerShadow color="#00000020" radius="3" />
                        </effect>
                    </Button>
                    
                    <Button fx:id="backBtn" onAction="#handleBack" style="
                        -fx-pref-width: 200px;
                        -fx-pref-height: 58px;
                        -fx-font-size: 17px;
                        -fx-font-weight: 600;
                        -fx-text-fill: #64748b;
                        -fx-background-color: transparent;
                        -fx-background-radius: 12;
                        -fx-border-radius: 12;
                        -fx-border-color: #cbd5e1;
                        -fx-border-width: 1.5;
                        -fx-cursor: hand;
                        -fx-font-family: 'Segoe UI', 'Arial', sans-serif;
                    " text="Back to Login">
                        <effect>
                            <DropShadow color="#00000010" radius="3" />
                        </effect>
                    </Button>
                </HBox>
                
                <!-- Footer Message -->
                <Label style="
                    -fx-font-size: 15px;
                    -fx-text-fill: #64748b;
                    -fx-font-family: 'Segoe UI', 'Arial', sans-serif;
                    -fx-padding: 20 0 0 0;
                " text="Already have an account? Login here!" />
                
                <!-- Security Badge -->
                <Label style="
                    -fx-font-size: 13px;
                    -fx-text-fill: #94a3b8;
                    -fx-font-family: 'Segoe UI', 'Arial', sans-serif;
                    -fx-font-weight: 300;
                    -fx-padding: 10 0 0 0;
                " text="ðŸ”’ Secure SSL Connection â€¢ Your data is protected" />
                
            </VBox>
            
        </VBox>
        
    </StackPane>
</ScrollPane>